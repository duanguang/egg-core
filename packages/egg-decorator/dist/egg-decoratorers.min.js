/**
 * egg-decoratorers v0.0.1
 * (c) 2020 duanguang
 * @license MIT
 */
var eggDecoratorer=function(t){"use strict";function v(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),this.message="",this.success=!1,this.data=null,this.code=""}var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},y="validateProperty",p=Symbol("validateProperty"),g=Symbol("Body");function c(t,e,a,r){return Object.assign(Object.assign({},t),(o={index:a,data:r},(i=""+e)in(n={})?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n));var n,i,o}return t.Body=function(t){return o=4,function(i){return function(t,e,a){var r=Reflect.getMetadata(g,t.constructor,e)||{},n=i||void 0;Reflect.defineMetadata(g,c(r,o,a,n),t.constructor,e)}}(t);var o},t.post=function(f,d,t){var l=t.value;t.value=function(){var t=this.ctx,e=this.app;if(t&&e){var a=t.request.body,r=Reflect.getOwnMetadata(g,f.constructor,d);if(r){var n=r[4].data;if("function"==typeof n){var i=new n,o=Reflect.getMetadata(p,i,y),c={};o&&Array.isArray(o)&&o.map(function(t){c[t.key]={type:t.type,required:t.required}}),arguments[0]=a;var u=new v,s=e.validator.validate(c,a);if(s)return u.code="200",u.message="\u53c2\u6570\u9519\u8bef1",u.success=!1,u.data=s,void(t.body=u)}}}return l.apply(this,arguments)}},t.validateProperty=function(r){return function(t,e){var a=Reflect.getMetadata(p,t,y);(a=a||[]).push(n({},r,{key:e})),Reflect.defineMetadata(p,a,t,y)}},t}({});